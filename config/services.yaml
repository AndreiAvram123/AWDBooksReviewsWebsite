
parameters:
        app.bucketeer_region : '%env(BUCKETEER_REGION)%'
        app.bucketeer_access_key : '%env(BUCKETEER_ACCESS_KEY)%'
        app.bucketeer_secret_key : '%env(BUCKETEER_SECRET_KEY)%'
        app.bucketeer_public_url : '%env(BUCKETEER_PUBLIC_URL)%'

services:
    foobar.form_extension.icon:
        class: App\Form\ButtonTypeIconExtension
        tags:
            - { name: form.type_extension, extended_type: Symfony\Component\Form\Extension\Core\Type\ButtonType }

    # default configuration for services in *this* file
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'
            - '../src/Tests/'


    App\utils\aws\AwsClientWrapper:
        arguments: [ '%env(BUCKETEER_REGION)%' ]

    App\utils\aws\AwsImageUtils:
      arguments:
             $bucketName : '%env(BUCKETEER_BUCKET_NAME)%'
             $publicUploadPath : '%env(BUCKETEER_PUBLIC_UPLOAD_PATH)%'
             $publicFileURL : '%env(BUCKETEER_AWS_PUBLIC_URL)%'
             $entityManager : '@doctrine.orm.entity_manager'

